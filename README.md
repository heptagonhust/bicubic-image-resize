# bicubic-image-resize

使用双三次插值法对图像进行缩放。


## 优化说明

**开发环境**
vm虚拟机 ubuntu20.04 4核心
管理员提供的高性能计算集群

**优化效果**
- 在高性能计算集群上最大图片的处理速度从4800ms优化到110ms左右，快的时候小于100ms；
- 另外两个图片分别优化到30ms和50ms左右


**尝试过的优化**
- 对源程序中多余和重复计算的优化，主要是针对计算次数最多的coeff函数，优化后性能提高15%左右（已弃用）
- omp多线程优化，优化后性能提高了不到三十倍，优化到200ms.
- 流水线指令优化，把除了resize函数外其他几个计算函数改写为流水线指令，优化到150ms左右。
- 计算优化，原先分别调用函数计算三次，调整到一个函数内计算三次，并通过引用值的方式返回值。优化到120ms左右
- （已放弃）把图像分割为多块，用std:thread库创建多个线程处理。优化效果不明显，且在生成的图片上有很多黑色条带，没想到解决方案。
- 取消了主循环中的判断语句，有轻微优化效果。
- 采用编译选项"ffast-math"加速，但此选项只对arm架构的cpu有效，发现高性能集群的CPU是x86-64架构，所以没有优化效果。
- 访存优化，改用结构体/局部变量等，减少cache miss。

